文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次1


   1  0000              
   2  0000              message '****************************************************************'
   3  0000              message '*PROJECT NAME :MAIN PROGRAM V103                               *'
   4  0000              message '*     VERSION :V103                                            *'
   5  0000              message '* ICE VERSION :                                                *'
   6  0000              message '*      DATE   :20160302                                        *'
   7  0000              message '*      REMARK :V103 add 33~36 key                              *'
   8  0000              message '****************************************************************'
   9  0000                              ;=INCLUDE REFERENCE FILE
  10  0000                              INCLUDE MAIN_PROGRAM_V103.INC












  11  0000              
  12  0000                              ;-PUBLIC LABEL
  13  0000                              PUBLIC  _LOAD_TKS_GLOBE_VARIES
  14  0000                              PUBLIC  _LOAD_HXT_REFERENCE
  15  0000              
  16  0000              CALL_   MACRO   FUNCTION
  17  0000                      ifdef   FUNCTION
  18  0000                              ifdef   PBP
  19  0000                              MOV     A,bank FUNCTION
  20  0000                              MOV     PBP,A
  21  0000                              endif
  22  0000                              CALL    FUNCTION
  23  0000                      endif
  24  0000                              ENDM
  25  0000              
  26  0000              EXTEND_FUNCTION_INITIAL MACRO
  27  0000                              CALL_   EXTEND_FUNCTION_1A_INITIAL
  28  0000                              CALL_   EXTEND_FUNCTION_1B_INITIAL
  29  0000                              CALL_   EXTEND_FUNCTION_1C_INITIAL
  30  0000                              CALL_   EXTEND_FUNCTION_1D_INITIAL
  31  0000                              CALL_   EXTEND_FUNCTION_1E_INITIAL
  32  0000                              CALL_   EXTEND_FUNCTION_1F_INITIAL
  33  0000                              CALL_   EXTEND_FUNCTION_1G_INITIAL
  34  0000                              CALL_   EXTEND_FUNCTION_1H_INITIAL
  35  0000              
  36  0000                              CALL_   EXTEND_FUNCTION_2A_INITIAL
  37  0000                              CALL_   EXTEND_FUNCTION_2B_INITIAL
  38  0000                              CALL_   EXTEND_FUNCTION_2C_INITIAL
  39  0000                              CALL_   EXTEND_FUNCTION_2D_INITIAL
  40  0000                              CALL_   EXTEND_FUNCTION_2E_INITIAL
  41  0000                              CALL_   EXTEND_FUNCTION_2F_INITIAL
  42  0000                              CALL_   EXTEND_FUNCTION_2G_INITIAL
  43  0000                              CALL_   EXTEND_FUNCTION_2H_INITIAL
  44  0000                              ENDM
  45  0000              
  46  0000              EXTEND_FUNCTION MACRO
  47  0000                              CALL_   EXTEND_FUNCTION_1A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次2

  48  0000                              CALL_   EXTEND_FUNCTION_1B
  49  0000                              CALL_   EXTEND_FUNCTION_1C
  50  0000                              CALL_   EXTEND_FUNCTION_1D
  51  0000                              CALL_   EXTEND_FUNCTION_1E
  52  0000                              CALL_   EXTEND_FUNCTION_1F
  53  0000                              CALL_   EXTEND_FUNCTION_1G
  54  0000                              CALL_   EXTEND_FUNCTION_1H
  55  0000              
  56  0000                              CALL_   EXTEND_FUNCTION_2A
  57  0000                              CALL_   EXTEND_FUNCTION_2B
  58  0000                              CALL_   EXTEND_FUNCTION_2C
  59  0000                              CALL_   EXTEND_FUNCTION_2D
  60  0000                              CALL_   EXTEND_FUNCTION_2E
  61  0000                              CALL_   EXTEND_FUNCTION_2F
  62  0000                              CALL_   EXTEND_FUNCTION_2G
  63  0000                              CALL_   EXTEND_FUNCTION_2H
  64  0000                              ENDM
  65  0000                              ;==============
  66  0000                              ;=DATA SETCTION
  67  0000                              ;==============
  68  0000              MAIN_DATA       .SECTION          'DATA'
  69  0000              
  70  0000              ifndef  ESCpowerIDcheck
  71  0000  0002[       POR_ID          DB      2 DUP(?)
            00
            ]
  72  0002              endif
  73  0002              
  74  0002              
  75  0002              
  76  0002                              ;==============
  77  0002                              ;=CODE SETCTION
  78  0002                              ;==============
  79  0000              PROGRAM_ENTRY   .SECTION  AT 000H 'CODE'
  80  0000                      ifdef   PBP
  81  0000                              CLR     PBP
  82  0000                              ifndef  ESCpowerIDcheck
  83  0000                              MOV     A,042H      ;ASCII = B
  84  0000                              endif
  85  0000                      else
  86  0000                              ;----------------
  87  0000                              ;-SET POR ID 1---
  88  0000                              ;----------------
  89  0000                              ifndef  ESCpowerIDcheck
  90  0000  0F42                        MOV     A,042H      ;ASCII = B
  91  0001  3A8A                        SNZ     TO
  92  0002  0080     R                  MOV     POR_ID[0],A
  93  0003                              endif
  94  0003                      endif
  95  0003  2800     R                  JMP     PROGRAM_RESET
  96  0004              
  97  0004                              ;==============
  98  0004                              ;=MAIN PROGRAM=
  99  0004                              ;==============
 100  0000              MAIN_PROGRAM    .SECTION          'CODE'
 101  0000              
 102  0000                              ;;***********************
 103  0000              PROGRAM_RESET:  ;;* PROGRAM ENTRY *******
 104  0000                              ;;***********************
 105  0000                      ifdef   PBP
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次3

 106  0000                              ifndef  ESCpowerIDcheck
 107  0000                              SNZ     TO
 108  0000                              MOV     POR_ID[0],A 
 109  0000                              endif
 110  0000                      endif
 111  0000                              ;----------------
 112  0000                              ;-SET POR ID 2---
 113  0000                              ;----------------
 114  0000                      ifndef  ESCpowerIDcheck
 115  0000  0F53                        MOV     A,053H      ;ASCII = S
 116  0001  0080     R                  MOV     POR_ID[1],A
 117  0002                      endif
 118  0002              
 119  0002              
 120  0002                              ;---------------------
 121  0002                              ;-MCU HARDWARE INITIAL
 122  0002                              ;---------------------
 123  0002                              MCU_HARDWARE_INITIAL
 123  0002            1                 ifdef   _BS83A02A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83A04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83A04A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B04A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次4

 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B08A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B08A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 123  0002            1                         MOV     CTRL,A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 123  0002            1                         MOV     CTRL,A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次5

 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 123  0002            1                         MOV     CTRL,A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84B06A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84B06A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 123  0002            1                         MOV     CTRL,A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次6

 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV [030H],A
 123  0002            1                         CLR [031H]
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84B08A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84B08A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 123  0002            1                         MOV     CTRL,A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV [030H],A
 123  0002            1                         CLR [031H]
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84C12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84C12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 123  0002            1                         MOV     CTRL,A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次7

 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV [030H],A
 123  0002            1                         CLR [031H]
 123  0002            1                         ;-CLEAR BANK2 280H~2DFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)&00110000B)
 123  0002            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV [030H],A
 123  0002            1                         CLR [031H]
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次8

 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84D20A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84D20A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)&00110000B)
 123  0002            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV [030H],A
 123  0002            1                         CLR [031H]
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次9

 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82B16   ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82B16_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 123  0002            1                         MOV     CTRL,A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1 
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)&00110000B)
 123  0002            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次10

 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)&00110000B)
 123  0002            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次11

 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82D20A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82D20A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 2<<4)&00110000B)
 123  0002            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV     SMOD,A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS45FH21  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS45FH21_
 123  0002            1 
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A, [01CH]
 123  0002            1 
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次12

 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK7 780H~7FFH
 123  0002            1                         MOV     A,7
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1               ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66F340  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66F340_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A, [01CH]
 123  0002            1 
 123  0002            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次13

 123  0002            1                         MOV [01DH],A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [022H],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66F350  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66F350_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002  0F1F      1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0003  069C      1                         ANDM    A, [01CH]
 123  0004            1 
 123  0004  0F09      1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  0005  009D      1                         MOV [01DH],A
 123  0006            1 
 123  0006            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0006            1                       ;;MOV     A,01010011B     ;500   MS
 123  0006  0F52      1                         MOV     A,01010010B     ;125   MS
 123  0007  00A2      1                         MOV [022H],A
 123  0008            1                         ;-IF POWER SAVING MODE ENABLE
 123  0008            1                         if 0==1
 123  0008            1                         SZ [0AH].5
 123  0008            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0008            1                         endif
 123  0008            1 
 123  0008            1                         ;-CLEAR BANK5 580H~2FFH
 123  0008  0F05      1                         MOV     A,5
 123  0009  0084      1                         MOV [04H],A
 123  000A  0F80      1                         MOV     A,80H
 123  000B  2000     R1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次14

 123  000C            1                         ;-CLEAR BANK4 480H~2FFH
 123  000C  0F04      1                         MOV     A,4
 123  000D  0084      1                         MOV [04H],A
 123  000E  0F80      1                         MOV     A,80H
 123  000F  2000     R1                         CALL    CLEAR_RAM
 123  0010            1                         ;-CLEAR BANK3 380H~2FFH
 123  0010  0F03      1                         MOV     A,3
 123  0011  0084      1                         MOV [04H],A
 123  0012  0F80      1                         MOV     A,80H
 123  0013  2000     R1                         CALL    CLEAR_RAM
 123  0014            1                         ;-CLEAR BANK2 280H~2FFH
 123  0014  0F02      1                         MOV     A,2
 123  0015  0084      1                         MOV [04H],A
 123  0016  0F80      1                         MOV     A,80H
 123  0017  2000     R1                         CALL    CLEAR_RAM
 123  0018            1                         ;-CLEAR BANK1 180H~1FFH
 123  0018  0F01      1                         MOV     A,1
 123  0019  0084      1                         MOV [04H],A
 123  001A  0F80      1                         MOV     A,80H
 123  001B  2000     R1                         CALL    CLEAR_RAM
 123  001C            1                         ;-CLEAR BANK0 080H~0FFH
 123  001C  1F04      1                         CLR [04H]
 123  001D  0F80      1                         MOV     A,80H
 123  001E  2000     R1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS66F360  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS66F360_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-CLEAR BANK7 780H~7FFH
 123  001F            1                         MOV     A,7
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 680H~6FFH
 123  001F            1                         MOV     A,6
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次15

 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS67F340  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS67F340_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次16

 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS67F350  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS67F350_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次17

 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS67F360  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS67F360_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-CLEAR BANK7 780H~7FFH
 123  001F            1                         MOV     A,7
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 680H~6FFH
 123  001F            1                         MOV     A,6
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次18

 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS66FV340  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS66FV340_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  001F            1                         ;;;;;MOV     A,7
 123  001F            1                         ;;;;;MOV     BP,A
 123  001F            1                         ;;;;;MOV     A,80H
 123  001F            1                         ;;;;;CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 680H~6FFH
 123  001F            1                         MOV     A,6
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;;;;;;-CLEAR BANK4 480H~2FFH
 123  001F            1                         ;;;;;MOV     A,4
 123  001F            1                         ;;;;;MOV     BP,A
 123  001F            1                         ;;;;;MOV     A,80H
 123  001F            1                         ;;;;;CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次19

 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS66FV350  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS66FV350_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  001F            1                         ;;;;;MOV     A,7
 123  001F            1                         ;;;;;MOV     BP,A
 123  001F            1                         ;;;;;MOV     A,80H
 123  001F            1                         ;;;;;CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 680H~6FFH
 123  001F            1                         MOV     A,6
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次20

 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS66FV360  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS66FV360_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-CLEAR BANK7 780H~7FFH
 123  001F            1                         MOV     A,7
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 680H~6FFH
 123  001F            1                         MOV     A,6
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次21

 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS86B12A  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS86B12A_
 123  001F            1                         ;-SET SYSTEM CLOCK
 123  001F            1                         MOV     A,(( 2<<4)&00110000B)
 123  001F            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  001F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  001F            1                         MOV     A,00000011B
 123  001F            1                         MOV     SMOD,A
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-DISABLE ADC
 123  001F            1                         CLR     ACERL
 123  001F            1                         MOV     A,01100000B
 123  001F            1                         MOV [030H],A
 123  001F            1                         CLR [031H]
 123  001F            1                       ;;;-CLEAR BANK3 380H~2FFH
 123  001F            1                       ;;MOV     A,3
 123  001F            1                       ;;MOV     BP,A
 123  001F            1                       ;;MOV     A,80H
 123  001F            1                       ;;CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS86C16A  ---------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次22

 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS86C16A_
 123  001F            1                         ;-SET SYSTEM CLOCK
 123  001F            1                         MOV     A,(( 2<<4)&00110000B)
 123  001F            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  001F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  001F            1                         MOV     A,00000011B
 123  001F            1                         MOV     SMOD,A
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-DISABLE ADC
 123  001F            1                         CLR     ACERL
 123  001F            1                         MOV     A,01100000B
 123  001F            1                         MOV [030H],A
 123  001F            1                         CLR [031H]
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS86D20A  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS86D20A_
 123  001F            1                         ;-SET SYSTEM CLOCK
 123  001F            1                         MOV     A,(( 2<<4)&00110000B)
 123  001F            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  001F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  001F            1                         MOV     A,00000011B
 123  001F            1                         MOV     SMOD,A
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次23

 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-DISABLE ADC
 123  001F            1                         CLR     ACERL
 123  001F            1                         MOV     A,01100000B
 123  001F            1                         MOV [030H],A
 123  001F            1                         CLR [031H]
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS87C16A  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS87C16A_
 123  001F            1                         ;-SET SYSTEM CLOCK
 123  001F            1                         MOV     A,(( 2<<4)&00110000B)
 123  001F            1                         MOV     CTRL,A          ;BIT7=FSYSON
 123  001F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  001F            1                         MOV     A,00000011B
 123  001F            1                         MOV     SMOD,A
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1                         ;-DISABLE ADC
 123  001F            1                         CLR     ACERL
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次24

 123  001F            1                         MOV     A,01100000B
 123  001F            1                         MOV [030H],A
 123  001F            1                         CLR [031H]
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1 
 123  001F            1 
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS66F370  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS66F370_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1 
 123  001F            1 
 123  001F            1                         ;-CLEAR BANK11 0B80H~7FFH
 123  001F            1                         MOV     A,11
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK10 0A80H~7FFH
 123  001F            1                         MOV     A,10
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次25

 123  001F            1                         ;-CLEAR BANK9 980H~7FFH
 123  001F            1                         MOV     A,9
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK8 880H~7FFH
 123  001F            1                         MOV     A,8
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK7 780H~7FFH
 123  001F            1                         MOV     A,7
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK6 680H~6FFH
 123  001F            1                         MOV     A,6
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 123  001F            1                 ;--------------------------------
 123  001F            1                 ;-INITIAL FOR BS67F370  ---------
 123  001F            1                 ;--------------------------------
 123  001F            1                 ifdef   _BS67F370_
 123  001F            1 
 123  001F            1                         ;CLR     SCC
 123  001F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  001F            1                         ANDM    A, [01CH]
 123  001F            1 
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次26

 123  001F            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 123  001F            1                         MOV [01DH],A
 123  001F            1 
 123  001F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001F            1                       ;;MOV     A,01010011B     ;500   MS
 123  001F            1                         MOV     A,01010010B     ;125   MS
 123  001F            1                         MOV [022H],A
 123  001F            1                         ;-IF POWER SAVING MODE ENABLE
 123  001F            1                         if 0==1
 123  001F            1                         SZ [0AH].5
 123  001F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001F            1                         endif
 123  001F            1 
 123  001F            1 
 123  001F            1                         ;-CLEAR BANK11 0B80H~7FFH
 123  001F            1                         MOV     A,11
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK10 0A80H~7FFH
 123  001F            1                         MOV     A,10
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK9 980H~7FFH
 123  001F            1                         MOV     A,9
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK8 880H~7FFH
 123  001F            1                         MOV     A,8
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK7 780H~7FFH
 123  001F            1                         MOV     A,7
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK6 680H~6FFH
 123  001F            1                         MOV     A,6
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK5 580H~2FFH
 123  001F            1                         MOV     A,5
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK4 480H~2FFH
 123  001F            1                         MOV     A,4
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK3 380H~2FFH
 123  001F            1                         MOV     A,3
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK2 280H~2FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次27

 123  001F            1                         MOV     A,2
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK1 180H~1FFH
 123  001F            1                         MOV     A,1
 123  001F            1                         MOV [04H],A
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                         ;-CLEAR BANK0 080H~0FFH
 123  001F            1                         CLR [04H]
 123  001F            1                         MOV     A,80H
 123  001F            1                         CALL    CLEAR_RAM
 123  001F            1                 endif
 123  001F            1 
 124  001F              
 125  001F                              ;------------------------------
 126  001F                              ;-LOAD LIBRARY OPTION/THRESHOLD
 127  001F                              ;------------------------------
 128  001F  2000     R                  CALL    _LOAD_TKS_GLOBE_VARIES
 129  0020              
 130  0020                              ;------------------------
 131  0020                              ;-EXTEND FUNCTION INITIAL
 132  0020                              ;------------------------
 133  0020                              EXTEND_FUNCTION_INITIAL
 133  0020            1                 CALL_   EXTEND_FUNCTION_1A_INITIAL
 133  0020            2         ifdef EXTEND_FUNCTION_1A_INITIAL
 133  0020            2                 ifdef   PBP
 133  0020            2                 MOV     A,bank _BS66F350_LIBV413_INITIAL
 133  0020            2                 MOV     PBP,A
 133  0020            2                 endif
 133  0020  2000     E2                 CALL _BS66F350_LIBV413_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_1B_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_1B_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_1B_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_1B_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_1C_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_1C_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_1C_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_1C_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_1D_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_1D_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank _USER_PROGRAM_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021  2000     E2                 CALL _USER_PROGRAM_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_1E_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_1E_INITIAL
 133  0022            2                 ifdef   PBP
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次28

 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_1E_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_1E_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_1F_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_1F_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_1F_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_1F_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_1G_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_1G_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_1G_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_1G_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_1H_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_1H_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_1H_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_1H_INITIAL
 133  0022            2         endif
 133  0022            1 
 133  0022            1                 CALL_   EXTEND_FUNCTION_2A_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2A_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2A_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_2A_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_2B_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2B_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2B_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_2B_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_2C_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2C_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2C_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_2C_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_2D_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2D_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2D_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次29

 133  0022            2                 CALL EXTEND_FUNCTION_2D_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_2E_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2E_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2E_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_2E_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_2F_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2F_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2F_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_2F_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_2G_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2G_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2G_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_2G_INITIAL
 133  0022            2         endif
 133  0022            1                 CALL_   EXTEND_FUNCTION_2H_INITIAL
 133  0022            2         ifdef EXTEND_FUNCTION_2H_INITIAL
 133  0022            2                 ifdef   PBP
 133  0022            2                 MOV     A,bank EXTEND_FUNCTION_2H_INITIAL
 133  0022            2                 MOV     PBP,A
 133  0022            2                 endif
 133  0022            2                 CALL EXTEND_FUNCTION_2H_INITIAL
 133  0022            2         endif
 134  0022              
 135  0022                              ;;-----------------------
 136  0022              MAIN_LOOP:      ;;- MAIN PROGRAM LOOP ---
 137  0022                              ;;-----------------------
 138  0022  0001                        CLR     WDT
 139  0023  0001                        CLR     WDT1
 140  0024  0005                        CLR     WDT2
 141  0025              
 142  0025                              ;----------------
 143  0025                              ;-CHECK POR ID --
 144  0025                              ;----------------
 145  0025                      ifndef  ESCpowerIDcheck
 146  0025  0F42                        MOV     A,042H
 147  0026  0480     R                  XORM    A,POR_ID[0]
 148  0027  0F53                        MOV     A,053H
 149  0028  3D0A                        SZ      Z
 150  0029  0480     R                  XORM    A,POR_ID[1]
 151  002A  390A                        SNZ     Z
 152  002B  2800                        JMP     000H
 153  002C                      endif
 154  002C                              ;----------------------
 155  002C                              ;-RE INITIAL SYS. CLOCK
 156  002C                              ;----------------------
 157  002C                              RELOAD_SYS_CLOCK
 157  002C            1                 ifdef   _BS83A02A_
 157  002C            1                         MOV     A,00000011B
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次30

 157  002C            1                         MOV     SMOD,A
 157  002C            1 
 157  002C            1                 endif
 157  002C            1 
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS83A04A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS83A04A_
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS83B04A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS83B04A_
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS83B08A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS83B08A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 157  002C            1                         MOV     CTRL,A
 157  002C            1                         ;--
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS83B12A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS83B12A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 157  002C            1                         MOV     CTRL,A
 157  002C            1                         ;--
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS83B16A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS83B16A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 157  002C            1                         MOV     CTRL,A
 157  002C            1                         ;--
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS84B06A  ---------
 157  002C            1                 ;--------------------------------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次31

 157  002C            1                 ifdef   _BS84B06A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 157  002C            1                       ;;MOV     A,(SystemClock<<4)&00110000B
 157  002C            1                         MOV     CTRL,A
 157  002C            1                         ;--
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS84B08A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS84B08A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 157  002C            1                         MOV     CTRL,A
 157  002C            1                         ;--
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS84C12A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS84C12A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 157  002C            1                         MOV     CTRL,A
 157  002C            1                         ;--
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS84C16A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS84C16A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  002C            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  002C            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS84D20A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS84D20A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  002C            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  002C            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1 
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次32

 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS82B16   ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS82B16_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)^00110000B)&00110000B
 157  002C            1                         MOV     CTRL,A
 157  002C            1                         ;--
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS82B12A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS82B12A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  002C            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  002C            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS82C16A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS82C16A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  002C            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  002C            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS82D20A  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS82D20A_
 157  002C            1                         ;-SET SYSTEM CLOCK
 157  002C            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  002C            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  002C            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  002C            1                         MOV     A,00000011B
 157  002C            1                         MOV     SMOD,A
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS45FH21  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS45FH21_
 157  002C            1                         ;CLR     SCC             ;FH=Fsys/1
 157  002C            1                         MOV     A,00011111B
 157  002C            1                         ANDM    A, [01CH]
 157  002C            1                         SET [01DH].0
 157  002C            1                 endif
 157  002C            1 
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS66F340  ---------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次33

 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS66F340_
 157  002C            1                         ;CLR     SCC             ;FH=Fsys/1
 157  002C            1                         MOV     A,00011111B
 157  002C            1                         ANDM    A, [01CH]
 157  002C            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  002C            1                         MOV [01DH],A
 157  002C            1                 endif
 157  002C            1                 ;--------------------------------
 157  002C            1                 ;-INITIAL FOR BS66F350  ---------
 157  002C            1                 ;--------------------------------
 157  002C            1                 ifdef   _BS66F350_
 157  002C            1                         ;CLR     SCC             ;FH=Fsys/1
 157  002C  0F1F      1                         MOV     A,00011111B
 157  002D  069C      1                         ANDM    A, [01CH]
 157  002E  0F09      1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  002F  009D      1                         MOV [01DH],A
 157  0030            1                 endif
 157  0030            1 
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS66F360  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS66F360_
 157  0030            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0030            1                         MOV     A,00011111B
 157  0030            1                         ANDM    A, [01CH]
 157  0030            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  0030            1                         MOV [01DH],A
 157  0030            1                 endif
 157  0030            1 
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS67F340  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS67F340_
 157  0030            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0030            1                         MOV     A,00011111B
 157  0030            1                         ANDM    A, [01CH]
 157  0030            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  0030            1                         MOV [01DH],A
 157  0030            1                 endif
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS67F350  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS67F350_
 157  0030            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0030            1                         MOV     A,00011111B
 157  0030            1                         ANDM    A, [01CH]
 157  0030            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  0030            1                         MOV [01DH],A
 157  0030            1                 endif
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS67F360  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS67F360_
 157  0030            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0030            1                         MOV     A,00011111B
 157  0030            1                         ANDM    A, [01CH]
 157  0030            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  0030            1                         MOV [01DH],A
 157  0030            1                 endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次34

 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS66FV340  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS66FV340_
 157  0030            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0030            1                         ANDM    A, [01CH]
 157  0030            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  0030            1                         MOV [01DH],A
 157  0030            1                 endif
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS66FV350  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS66FV350_
 157  0030            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0030            1                         ANDM    A, [01CH]
 157  0030            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  0030            1                         MOV [01DH],A
 157  0030            1                 endif
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS66FV360  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS66FV360_
 157  0030            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0030            1                         ANDM    A, [01CH]
 157  0030            1                         MOV     A,(( 2<<2)&00001100B)|00000001B
 157  0030            1                         MOV [01DH],A
 157  0030            1                 endif
 157  0030            1 
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS86B12A  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS86B12A_
 157  0030            1                         ;-SET SYSTEM CLOCK
 157  0030            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  0030            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  0030            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0030            1                         MOV     A,00000011B
 157  0030            1                         MOV     SMOD,A
 157  0030            1                 endif
 157  0030            1 
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS86C16A  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS86C16A_
 157  0030            1                         ;-SET SYSTEM CLOCK
 157  0030            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  0030            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  0030            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0030            1                         MOV     A,00000011B
 157  0030            1                         MOV     SMOD,A
 157  0030            1                 endif
 157  0030            1 
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS86D20A  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS86D20A_
 157  0030            1                         ;-SET SYSTEM CLOCK
 157  0030            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  0030            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  0030            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次35

 157  0030            1                         MOV     A,00000011B
 157  0030            1                         MOV     SMOD,A
 157  0030            1                 endif
 157  0030            1 
 157  0030            1                 ;--------------------------------
 157  0030            1                 ;-INITIAL FOR BS87C16A  ---------
 157  0030            1                 ;--------------------------------
 157  0030            1                 ifdef   _BS87C16A_
 157  0030            1                         ;-SET SYSTEM CLOCK
 157  0030            1                         MOV     A,(( 2<<4)&00110000B);;|10000000B
 157  0030            1                         MOV     CTRL,A          ;BIT7=FSYSON
 157  0030            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0030            1                         MOV     A,00000011B
 157  0030            1                         MOV     SMOD,A
 157  0030            1                 endif
 157  0030            1 
 157  0030            1 
 158  0030                              EXTEND_FUNCTION
 158  0030            1                 CALL_   EXTEND_FUNCTION_1A
 158  0030            2         ifdef EXTEND_FUNCTION_1A
 158  0030            2                 ifdef   PBP
 158  0030            2                 MOV     A,bank _BS66F350_LIBV413
 158  0030            2                 MOV     PBP,A
 158  0030            2                 endif
 158  0030  2000     E2                 CALL _BS66F350_LIBV413
 158  0031            2         endif
 158  0031            1                 CALL_   EXTEND_FUNCTION_1B
 158  0031            2         ifdef EXTEND_FUNCTION_1B
 158  0031            2                 ifdef   PBP
 158  0031            2                 MOV     A,bank EXTEND_FUNCTION_1B
 158  0031            2                 MOV     PBP,A
 158  0031            2                 endif
 158  0031            2                 CALL EXTEND_FUNCTION_1B
 158  0031            2         endif
 158  0031            1                 CALL_   EXTEND_FUNCTION_1C
 158  0031            2         ifdef EXTEND_FUNCTION_1C
 158  0031            2                 ifdef   PBP
 158  0031            2                 MOV     A,bank EXTEND_FUNCTION_1C
 158  0031            2                 MOV     PBP,A
 158  0031            2                 endif
 158  0031            2                 CALL EXTEND_FUNCTION_1C
 158  0031            2         endif
 158  0031            1                 CALL_   EXTEND_FUNCTION_1D
 158  0031            2         ifdef EXTEND_FUNCTION_1D
 158  0031            2                 ifdef   PBP
 158  0031            2                 MOV     A,bank _USER_PROGRAM
 158  0031            2                 MOV     PBP,A
 158  0031            2                 endif
 158  0031  2000     E2                 CALL _USER_PROGRAM
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_1E
 158  0032            2         ifdef EXTEND_FUNCTION_1E
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_1E
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_1E
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_1F
 158  0032            2         ifdef EXTEND_FUNCTION_1F
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次36

 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_1F
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_1F
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_1G
 158  0032            2         ifdef EXTEND_FUNCTION_1G
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_1G
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_1G
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_1H
 158  0032            2         ifdef EXTEND_FUNCTION_1H
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_1H
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_1H
 158  0032            2         endif
 158  0032            1 
 158  0032            1                 CALL_   EXTEND_FUNCTION_2A
 158  0032            2         ifdef EXTEND_FUNCTION_2A
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2A
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2A
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_2B
 158  0032            2         ifdef EXTEND_FUNCTION_2B
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2B
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2B
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_2C
 158  0032            2         ifdef EXTEND_FUNCTION_2C
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2C
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2C
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_2D
 158  0032            2         ifdef EXTEND_FUNCTION_2D
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2D
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2D
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_2E
 158  0032            2         ifdef EXTEND_FUNCTION_2E
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2E
 158  0032            2                 MOV     PBP,A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次37

 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2E
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_2F
 158  0032            2         ifdef EXTEND_FUNCTION_2F
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2F
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2F
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_2G
 158  0032            2         ifdef EXTEND_FUNCTION_2G
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2G
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2G
 158  0032            2         endif
 158  0032            1                 CALL_   EXTEND_FUNCTION_2H
 158  0032            2         ifdef EXTEND_FUNCTION_2H
 158  0032            2                 ifdef   PBP
 158  0032            2                 MOV     A,bank EXTEND_FUNCTION_2H
 158  0032            2                 MOV     PBP,A
 158  0032            2                 endif
 158  0032            2                 CALL EXTEND_FUNCTION_2H
 158  0032            2         endif
 159  0032                              ;----------------
 160  0032                              ;-SET POR ID  ---
 161  0032                              ;----------------
 162  0032                      ifndef  ESCpowerIDcheck
 163  0032  0F42                        MOV     A,042H      ;ASCII = B
 164  0033  0080     R                  MOV     POR_ID[0],A
 165  0034  0F53                        MOV     A,053H      ;ASCII = S
 166  0035  0080     R                  MOV     POR_ID[1],A
 167  0036                      endif
 168  0036              
 169  0036                              ;--------------------
 170  0036              WDT_WAKEUP:     ;-WDT WAKEUP FUNCTION
 171  0036                              ;--------------------
 172  0036                              if      PowerSave==1
 173  0036                              CALL_   _CHECK_KEY_WAKEUP
 174  0036                              endif
 175  0036              
 176  0036                              ifdef   PBP
 177  0036                              MOV     A,BANK MAIN_LOOP
 178  0036                              MOV     PBP,A
 179  0036                              endif
 180  0036  2800     R                  JMP     MAIN_LOOP
 181  0037              
 182  0037              
 183  0037              
 184  0037              
 185  0037              
 186  0037              
 187  0037              
 188  0037              
 189  0037              
 190  0037              ;;***********************************************************
 191  0037              ;;*SUB. NAME:                                               *
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次38

 192  0037              ;;*INPUT    :                                               *
 193  0037              ;;*OUTPUT   :                                               *
 194  0037              ;;*USED REG.:                                               *
 195  0037              ;;*FUNCTION :                                               *
 196  0037              ;;***********************************************************
 197  0037              CLEAR_RAM:
 198  0037  0083                        MOV     MP1,A
 199  0038                      ifndef  ESCpowerIDcheck
 200  0038                          ifdef  BP
 201  0038                              ;-CHECK BANK
 202  0038  1084                        SZ      BP
 203  0039  2800     R                  JMP     CLR_RAM
 204  003A                          endif
 205  003A                              ;-CHECK POR_ID RAM
 206  003A  0F00     R                  MOV     A,OFFSET POR_ID
 207  003B  0403                        XOR     A,MP1
 208  003C  0F00     R                  MOV     A,OFFSET POR_ID+1
 209  003D  390A                        SNZ     Z
 210  003E  0403                        XOR     A,MP1
 211  003F  390A                        SNZ     Z
 212  0040                      endif
 213  0040              CLR_RAM:        ;-CLEAR RAM
 214  0040  1F02                        CLR     IAR1
 215  0041  1603                        SIZA    MP1
 216  0042  2800     R                  JMP     CLEAR_RAM
 217  0043              
 218  0043  0003                        RET
 219  0044              
 220  0044              
 221  0044              ;;***********************************************************
 222  0044              ;;*SUB. NAME:                                               *
 223  0044              ;;*INPUT    :                                               *
 224  0044              ;;*OUTPUT   :                                               *
 225  0044              ;;*USED REG.:                                               *
 226  0044              ;;*FUNCTION :                                               *
 227  0044              ;;***********************************************************
 228  0044              _LOAD_TKS_GLOBE_VARIES:
 229  0044              _LOAD_HXT_REFERENCE:
 230  0044                              ;------------------------
 231  0044                              ;-SET TKS LIBRARY OPTION-
 232  0044                              ;------------------------
 233  0044  0FF1                        MOV     A,GlobeOptionA
 234  0045  0080     E                  MOV     _GLOBE_VARIES[0],A
 235  0046  0FF1                        MOV     A,GlobeOptionB
 236  0047  0080     E                  MOV     _GLOBE_VARIES[1],A
 237  0048  0F88                        MOV     A,GlobeOptionC
 238  0049  0080     E                  MOV     _GLOBE_VARIES[2],A
 239  004A              
 240  004A                              ;--------------------------
 241  004A                              ;-SET TOUCH OR IO ATTRIBUTE
 242  004A                              ;--------------------------
 243  004A  0F00                        MOV     A,IO_TOUCH_ATTR&0FFH
 244  004B  0080     E                  MOV     _KEY_IO_SEL[0],A
 245  004C                              ;-IF OVER 2 TOUCH IP (8~16KEY)
 246  004C                              if      TouchKeyAmount > 8
 247  004C  0FE0                        MOV     A,(IO_TOUCH_ATTR>>8)&0FFH
 248  004D  0080     E                  MOV     _KEY_IO_SEL[1],A
 249  004E                              endif
 250  004E                              ;-IF OVER 4 TOUCH IP (17~24KEY)
 251  004E                              if      TouchKeyAmount > 16
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次39

 252  004E  0F01                        MOV     A,(IO_TOUCH_ATTR>>16)&0FFH
 253  004F  0080     E                  MOV     _KEY_IO_SEL[2],A
 254  0050                              endif
 255  0050                              ;-IF OVER 6 TOUCH IP (25~32KEY)
 256  0050                              if      TouchKeyAmount > 24
 257  0050                              MOV     A,(IO_TOUCH_ATTR>>24)&0FFH
 258  0050                              MOV     _KEY_IO_SEL[3],A
 259  0050                              endif
 260  0050              
 261  0050                              ;-IF OVER 6 TOUCH IP (33~36KEY)
 262  0050                              if      TouchKeyAmount > 32
 263  0050                              MOV     A,IO_TOUCH_ATTR2
 264  0050                              MOV     _KEY_IO_SEL[4],A
 265  0050                              endif
 266  0050              
 267  0050                              ;------------------------
 268  0050                              ;-SET TOUCH KEY THRESHOLD
 269  0050                              ;------------------------
 270  0050                              ;-KEY1 THRESHOLD
 271  0050  0F10                        MOV     A,Key1Threshold
 272  0051  0080     E                  MOV     _GLOBE_VARIES[3],A
 273  0052              
 274  0052                              if      TouchKeyAmount > 1
 275  0052                              ;-KEY2 THRESHOLD
 276  0052  0F10                        MOV     A,Key2Threshold
 277  0053  0080     E                  MOV     _GLOBE_VARIES[4],A
 278  0054                              endif
 279  0054              
 280  0054                              if      TouchKeyAmount > 2
 281  0054                              ;-KEY3 THRESHOLD
 282  0054  0F10                        MOV     A,Key3Threshold
 283  0055  0080     E                  MOV     _GLOBE_VARIES[5],A
 284  0056                              endif
 285  0056              
 286  0056                              if      TouchKeyAmount > 3
 287  0056                              ;-KEY4 THRESHOLD
 288  0056  0F14                        MOV     A,Key4Threshold
 289  0057  0080     E                  MOV     _GLOBE_VARIES[6],A
 290  0058                              endif
 291  0058              
 292  0058                              if      TouchKeyAmount > 4
 293  0058                              ;-KEY5 THRESHOLD
 294  0058  0F0C                        MOV     A,Key5Threshold
 295  0059  0080     E                  MOV     _GLOBE_VARIES[7],A
 296  005A                              endif
 297  005A              
 298  005A                              if      TouchKeyAmount > 5
 299  005A                              ;-KEY6 THRESHOLD
 300  005A  0F0C                        MOV     A,Key6Threshold
 301  005B  0080     E                  MOV     _GLOBE_VARIES[8],A
 302  005C                              endif
 303  005C              
 304  005C                              if      TouchKeyAmount > 6
 305  005C                              ;-KEY7 THRESHOLD
 306  005C  0F0C                        MOV     A,Key7Threshold
 307  005D  0080     E                  MOV     _GLOBE_VARIES[9],A
 308  005E                              endif
 309  005E              
 310  005E                              if      TouchKeyAmount > 7
 311  005E                              ;-KEY8 THRESHOLD
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次40

 312  005E  0F10                        MOV     A,Key8Threshold
 313  005F  0080     E                  MOV     _GLOBE_VARIES[10],A
 314  0060                              endif
 315  0060              
 316  0060                              if     TouchKeyAmount > 8
 317  0060                              ;-KEY9 THRESHOLD
 318  0060  0F10                        MOV     A,Key9Threshold
 319  0061  0080     E                  MOV     _GLOBE_VARIES[11],A
 320  0062                              endif
 321  0062              
 322  0062                              if      TouchKeyAmount > 9
 323  0062                              ;-KEY10 THRESHOLD
 324  0062  0F10                        MOV     A,Key10Threshold
 325  0063  0080     E                  MOV     _GLOBE_VARIES[12],A
 326  0064                              endif
 327  0064              
 328  0064                              if      TouchKeyAmount > 10
 329  0064                              ;-KEY11 THRESHOLD
 330  0064  0F10                        MOV     A,Key11Threshold
 331  0065  0080     E                  MOV     _GLOBE_VARIES[13],A
 332  0066                              endif
 333  0066              
 334  0066                              if      TouchKeyAmount > 11
 335  0066                              ;-KEY12 THRESHOLD
 336  0066  0F10                        MOV     A,Key12Threshold
 337  0067  0080     E                  MOV     _GLOBE_VARIES[14],A
 338  0068                              endif
 339  0068              
 340  0068                              if      TouchKeyAmount > 12
 341  0068                              ;-KEY13 THRESHOLD
 342  0068  0F10                        MOV     A,Key13Threshold
 343  0069  0080     E                  MOV     _GLOBE_VARIES[15],A
 344  006A                              endif
 345  006A              
 346  006A                              if      TouchKeyAmount > 13
 347  006A                              ;-KEY14 THRESHOLD
 348  006A  0F10                        MOV     A,Key14Threshold
 349  006B  0080     E                  MOV     _GLOBE_VARIES[16],A
 350  006C                              endif
 351  006C              
 352  006C                              if      TouchKeyAmount > 14
 353  006C                              ;-KEY15 THRESHOLD
 354  006C  0F10                        MOV     A,Key15Threshold
 355  006D  0080     E                  MOV     _GLOBE_VARIES[17],A
 356  006E                              endif
 357  006E              
 358  006E                              if      TouchKeyAmount > 15
 359  006E                              ;-KEY16 THRESHOLD
 360  006E  0F10                        MOV     A,Key16Threshold
 361  006F  0080     E                  MOV     _GLOBE_VARIES[18],A
 362  0070                              endif
 363  0070              
 364  0070                              if      TouchKeyAmount > 16
 365  0070                              ;-KEY17 THRESHOLD
 366  0070  0F10                        MOV     A,Key17Threshold
 367  0071  0080     E                  MOV     _GLOBE_VARIES[19],A
 368  0072                              endif
 369  0072              
 370  0072                              if      TouchKeyAmount > 17
 371  0072                              ;-KEY18 THRESHOLD
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次41

 372  0072  0F10                        MOV     A,Key18Threshold
 373  0073  0080     E                  MOV     _GLOBE_VARIES[20],A
 374  0074                              endif
 375  0074              
 376  0074                              if      TouchKeyAmount > 18
 377  0074                              ;-KEY19 THRESHOLD
 378  0074  0F10                        MOV     A,Key19Threshold
 379  0075  0080     E                  MOV     _GLOBE_VARIES[21],A
 380  0076                              endif
 381  0076              
 382  0076                              if      TouchKeyAmount > 19
 383  0076                              ;-KEY20 THRESHOLD
 384  0076  0F10                        MOV     A,Key20Threshold
 385  0077  0080     E                  MOV     _GLOBE_VARIES[22],A
 386  0078                              endif
 387  0078              
 388  0078                              if      TouchKeyAmount > 20
 389  0078                              ;-KEY17 THRESHOLD
 390  0078                              MOV     A,Key21Threshold
 391  0078                              MOV     _GLOBE_VARIES[23],A
 392  0078                              endif
 393  0078              
 394  0078                              if      TouchKeyAmount > 21
 395  0078                              ;-KEY18 THRESHOLD
 396  0078                              MOV     A,Key22Threshold
 397  0078                              MOV     _GLOBE_VARIES[24],A
 398  0078                              endif
 399  0078              
 400  0078                              if      TouchKeyAmount > 22
 401  0078                              ;-KEY19 THRESHOLD
 402  0078                              MOV     A,Key23Threshold
 403  0078                              MOV     _GLOBE_VARIES[25],A
 404  0078                              endif
 405  0078              
 406  0078                              if      TouchKeyAmount > 23
 407  0078                              ;-KEY20 THRESHOLD
 408  0078                              MOV     A,Key24Threshold
 409  0078                              MOV     _GLOBE_VARIES[26],A
 410  0078                              endif
 411  0078              
 412  0078                              if      TouchKeyAmount > 24
 413  0078                              ;-KEY17 THRESHOLD
 414  0078                              MOV     A,Key25Threshold
 415  0078                              MOV     _GLOBE_VARIES[27],A
 416  0078                              endif
 417  0078              
 418  0078                              if      TouchKeyAmount > 25
 419  0078                              ;-KEY18 THRESHOLD
 420  0078                              MOV     A,Key26Threshold
 421  0078                              MOV     _GLOBE_VARIES[28],A
 422  0078                              endif
 423  0078              
 424  0078                              if      TouchKeyAmount > 26
 425  0078                              ;-KEY19 THRESHOLD
 426  0078                              MOV     A,Key27Threshold
 427  0078                              MOV     _GLOBE_VARIES[29],A
 428  0078                              endif
 429  0078              
 430  0078                              if      TouchKeyAmount > 27
 431  0078                              ;-KEY20 THRESHOLD
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次42

 432  0078                              MOV     A,Key28Threshold
 433  0078                              MOV     _GLOBE_VARIES[30],A
 434  0078                              endif
 435  0078              
 436  0078                              if      TouchKeyAmount > 28
 437  0078                              ;-KEY29 THRESHOLD
 438  0078                              MOV     A,Key29Threshold
 439  0078                              MOV     _GLOBE_VARIES[31],A
 440  0078                              endif
 441  0078              
 442  0078                              if      TouchKeyAmount > 29
 443  0078                              ;-KEY30 THRESHOLD
 444  0078                              MOV     A,Key30Threshold
 445  0078                              MOV     _GLOBE_VARIES[32],A
 446  0078                              endif
 447  0078              
 448  0078                              if      TouchKeyAmount > 30
 449  0078                              ;-KEY31 THRESHOLD
 450  0078                              MOV     A,Key31Threshold
 451  0078                              MOV     _GLOBE_VARIES[33],A
 452  0078                              endif
 453  0078              
 454  0078                              if      TouchKeyAmount > 31
 455  0078                              ;-KEY32 THRESHOLD
 456  0078                              MOV     A,Key32Threshold
 457  0078                              MOV     _GLOBE_VARIES[34],A
 458  0078                              endif
 459  0078              
 460  0078                              if      TouchKeyAmount > 32
 461  0078                              ;-KEY33 THRESHOLD
 462  0078                              MOV     A,Key33Threshold
 463  0078                              MOV     _GLOBE_VARIES[35],A
 464  0078                              endif
 465  0078              
 466  0078                              if      TouchKeyAmount > 33
 467  0078                              ;-KEY34 THRESHOLD
 468  0078                              MOV     A,Key34Threshold
 469  0078                              MOV     _GLOBE_VARIES[36],A
 470  0078                              endif
 471  0078              
 472  0078                              if      TouchKeyAmount > 34
 473  0078                              ;-KEY35 THRESHOLD
 474  0078                              MOV     A,Key35Threshold
 475  0078                              MOV     _GLOBE_VARIES[37],A
 476  0078                              endif
 477  0078              
 478  0078                              if      TouchKeyAmount > 35
 479  0078                              ;-KEY36 THRESHOLD
 480  0078                              MOV     A,Key36Threshold
 481  0078                              MOV     _GLOBE_VARIES[38],A
 482  0078                              endif
 483  0078              
 484  0078              
 485  0078  0003                        RET
 486  0079              
 487  0079              
 488  0079              
 489  0079              
 490  0079                              END

文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次43


        0 Errors, 0 Warnings